<!doctype html>
<html lang="en-us" data-theme="dark">

<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Gularen</title>
	<style>
		#split {
			margin: 0 auto;
			max-width: 1200px;
			display: flex;
			flex-direction: row;
		}

		#input,
		#output {
			overflow-y: scroll;
			padding: 12px 16px;
			width: 50%;
			flex-basis: 50%;
			height: 100vh;
		}

		#input {
			font-family: monospace;
			outline: 0;
			border: 0;
			border-right: 1px solid #333;
		}

		body {
			display: block !important;
			overflow: hidden;
		}

		.indent {
			padding-left: 32px;
		}

		ul.checklist {
			list-style: none;
		}

		ul.checklist>li>input[type=checkbox] {
			margin-bottom: 0;
		}
	</style>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"
		integrity="sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn" crossorigin="anonymous">
</head>

<body>
	<div id="split">
		<textarea id="input" placeholder="type here..." autofocus></textarea>
		<div id="output">
		</div>
	</div>

	<script src="gularen.js"></script>
	<script>
		function transpile() {
			outputNode.innerHTML = Module.transpile(inputNode.value);
			// console.log(Module.transpile(inputNode.value));
		}

		Module.onRuntimeInitialized = () => {
			transpile();
		};

		const inputNode = document.getElementById("input");
		const outputNode = document.getElementById("output");

		inputNode.value = `
>>> Gularen
Well-thought markup language

>> Comment
Now you see me ~ now you dont

>> Font Style
Hello *darkness* _my old_ \`friend\`.

I've come *to _talk \`with\` you_ again*.

>> Indentation
	I believe I can fly!
	    Look mom no hand!

>> List
- One
- Two
- Three

1. One
2. Two
3. Three

[ ] Todo
[v] Done
[x] Cancelled

>> Table
| ID | Name |
|---:|------|
|  1 | Noor | 
|  2 | Dori | 

>> Resource
A link [https://github.com/noorwachid]

![https://i.imgur.com/R3o5F6T.jpeg]


>> Code

> Syntax Highlighting
--- js
console.log('hello world');
---

> UML Diagram
--- mermaid
graph TD;
    A-->B
    A-->C
    B-->D
    C-->D
---

> Math Notation
--- katex
2+\\frac{1}{x}
---
`;

		inputNode.addEventListener('input', transpile);
	</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
	<script>hljs.highlightAll();</script>
	<script type="module">
		import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
		mermaid.initialize({
			startOnLoad: true
		});
		document.getElementById('input').addEventListener('input', () => {
			mermaid.init(undefined, '.language-presenter.mermaid');
		})
	</script>
	<script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"
		integrity="sha384-cpW21h6RZv/phavutF+AuVYrr+dA8xD9zs6FwLpaCct6O9ctzYFfFr4dgmgccOTx"
		crossorigin="anonymous"></script>
	<script>
		function renderKatex() {
			document.querySelectorAll('.language-presenter.katex').forEach(node => {
				katex.render(node.innerHTML, node);
			})
		}
		document.getElementById('input').addEventListener('input', renderKatex)
		document.addEventListener("DOMContentLoaded", () => {
			renderKatex();
		});
	</script>
</body>

</html>
